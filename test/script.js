/* Created and coded by Abhilash Narayan */
/* Quiz source: w3schools.com */

var quiz = {
	"JS": [
		{
			"id": 1,
			"question": "Кои са основните цветове?",
			"options": [
				{
					"a": "жълт,виолетов,син",
					"b": "син,жълт,червен",
					"c": "зелен,оранжев,син ",
					
				}
			],
			"answer": "син,жълт,червен",
			"score": 0,
			"status": ""
		},
		{
			"id": 2,
			"question": "Кои цветове са топли?",
			"options": [
				{
					"a": "жълт, виолетов, червен",
					"b": "син, червен, жълт",
					"c": "червен, оранжев, жълт"
				}
			],
			"answer": "червен, оранжев, жълт",
			"score": 0,
			"status": ""
		},
		{
			"id": 3,
			"question": "При смесването на равни части от кои цветове ще получим неутрален кафяв цвят?",
			"options": [
				{
					"a": "син, жълт, червен ",
					"b": "виолетов, червен, жълт ",
					"c": "виолетов, зелен, оранжев "
				}
			],
			"answer": "син, жълт, червен ",
			"score": 0,
			"status": ""
		},
		{
			"id": 4,
			"question": "Какво наричаме фон на изсветляване? ",
			"options": [
				{
					"a": "новообразувалите се цветове след изсветляването, било то естествено или провокирано",
					"b": "цветовете преди изсветляване на косата ",
					"c": "козметичната основа, върху която нанасяме избрания цвят "
				}
			],
			"answer": "новообразувалите се цветове след изсветляването, било то естествено или провокирано",
			"score": 0,
			"status": ""
		},
		{
			"id": 5,
			"question": "Защо цъфти косата?",
			"options": [
				{
					"a": "защото се третира често ",
					"b": "насища се с кислород ",
					"c": "защото старее ",
					
				}
			],
			"answer": "защото старее ",
			"score": 0,
			"status": ""
		},
		{
			"id": 6,
			"question": "Колко квадрата помещение са нужни за отварянето на фризьорски салон?",
			"options": [
				{
					"a": "3",
					"b": "6",
					"c": "9",
					"d": "11",
				}
			],
			"answer": "9",
			"score": 0,
			"status": ""
		},
		{
			"id": 7,
			"question": "Кои са институциите за проверка на фризьорските салони?",
			"options": [
				{
					"a": "РЗИ, НАП",
					"b": "РЗИ, НАП, РСПАБ",
					"c": "МВР, КЗП, НАП ",
				}
			],
			"answer": "РЗИ, НАП, РСПАБ",
			"score": 0,
			"status": ""
		},
		{
			"id": 8,
			"question": "Кое от изброените отваря косъма? ",
			"options": [
				{
					"a": "амоняк",
					"b": "кислород",
					"c": "водород ",
					"d": "Нито едно от изброените",
				}
			],
			"answer": "амоняк",
			"score": 0,
			"status": ""
		},
		{
			"id": 9,
			"question": "Кое от изброените отговаря за цвета на косата? ",
			"options": [
				{
					"a": "водородни връзки ",
					"b": "кератин ",
					"c": "меланин ",
				
				}
			],
			"answer": "меланин ",
			"score": 0,
			"status": ""
		},
		{
			"id": 10,
			"question": "Какво представлява дуалното боядисване?",
			"options": [
				{
					"a": "когато боядисваме корена с амонячна, а дължините с безамонячна боя ",
					"b": "когато боядисваме в корена с безамонячна, а дължините с амонячна боя ",
					"c": "когато боядисваме корена с тъмна боя, а дължините със светла ",
			
				}
			],
			"answer": "когато боядисваме корена с амонячна, а дължините с безамонячна боя ",
			"score": 0,
			"status": ""
		},
		{
			"id": 11,
			"question": "В коя част на косъма се съдържа меланина? ",
			"options": [
				{
					"a": "кутикула ",
					"b": "медула",
					"c": "кортекс ",
					"d": "Нито едно от изброените"
				}
			],
			"answer": "кортекс ",
			"score": 0,
			"status": ""
		},
		{
			"id": 12,
			"question": "Какво Ph има оксидантът? ",
			"options": [
				{
					"a": "алкално ",
					"b": "киселинно ",
					"c": "неутрално",
				
				}
			],
			"answer": "киселинно ",
			"score": 0,
			"status": ""
		},
		{
			"id": 13,
			"question": "Как се получават третичните цветове?",
			"options": [
				{
					"a": "при смесването на два първични цвята ",
					"b": "при смесването на равни части на един първичен и един вторичен цвят ",
					"c": "при смесването на два вторични цвята "
				}
			],
			"answer": "при смесването на равни части на един първичен и един вторичен цвят ",
			"score": 0,
			"status": ""
		},
		{
			"id": 14,
			"question": "Какво е неутрализация? ",
			"options": [
				{
					"a": "да съберем трите първични цвята в равни части и да получим кафяв (неутрален цвят)   ",
					"b": "да съберем един първичен и един вторичен цвят ",
					"c": "да смесим боя и оксидант "
				}
			],
			"answer": "да съберем трите първични цвята в равни части и да получим кафяв (неутрален цвят)   ",
			"score": 0,
			"status": ""
		},
		{
			"id": 15,
			"question": "Кой народ полага основите на съвременното бръснарство?",
			"options": [
				{
					"a": "арабите ",
					"b": "турците ",
					"c": "римляните ",
					"d": "бразилците"
				}
			],
			"answer": "арабите ",
			"score": 0,
			"status": ""
		},
		{
			"id": 16,
			"question": "Кое pH е неутрално?",
			"options": [
				{
					"a": "7pH",
					"b": "14pH",
					"c": "0pH",
					
				}
			],
			"answer": "7pH",
			"score": 0,
			"status": ""
		},
		{
			"id": 17,
			"question": "Кое pH е алкално?",
			"options": [
				{
					"a": "По-малко от 7pH",
					"b": "По-голямо от 7pH",
					"c": "4pH",
				
				}
			],
			"answer": "По-голямо от 7pH",
			"score": 0,
			"status": ""
		},
		{
			"id": 18,
			"question": "Меланина отговаря за ?",
			"options": [
				{
					"a": "Цвета на косата,кожата,очите",
					"b": "Здравината на косъма",
					"c": "Гъвкавост на косъма"

				}
			],
			"answer": "Цвета на косата,кожата,очите",
			"score": 0,
			"status": ""
		},
		{
			"id": 19,
			"question": "Химичен състав на косъма ?",
			"options": [
				{
					"a": "Калций,Водород,Калий,Сяра,Кислород",
					"b": "Въглерод,Кислород,Азот,Водород,Сяра",
					"c": "Магнезий,Въглерод,Калций,Хром,Азот",

				}
			],
			"answer": "Въглерод,Кислород,Азот,Водород,Сяра",
			"score": 0,
			"status": ""
		},
		{
			"id": 20,
			"question": "How can you detect the client&rsquo;s browser name?",
			"options": [
				{
					"a": "navigator.appName",
					"b": "browser.name",
					"c": "client.navName"
				}
			],
			"answer": "navigator.appName",
			"score": 0,
			"status": ""
		},
		{
			"id": 21,
			"question": "Колко минути се стои с къдрина?",
			"options": [
				{
					"a": "45мин.",
					"b": "Определя се според състоянието на косата",
					"c": "10мин.",
					"d": "30мин."
				}
			],
			"answer": "Определя се според състоянието на косата",
			"score": 0,
			"status": ""
		},
		{
			"id": 22,
			"question": "Колко време се стои с фиксажа?",
			"options": [
				{
					"a": "10мин.",
					"b": "45мин.",
					"c": "15мин."
				}
			],
			"answer": "10мин.",
			"score": 0,
			"status": ""
		},
		{
			"id": 23,
			"question": "Какво се случва с косата по време на къдрене?",
			"options": [
				{
					"a": "Променя се структурата на косъма",
					"b": "Подхранва се",
					"c": "Насища се с кислород",
					
				}
			],
			"answer": "Променя се структурата на косъма",
			"score": 0,
			"status": ""
		},
		{
			"id": 24,
			"question": "Какво представлява коректорът?",
			"options": [
				{
					"a": "Неотрализира или подсилва цвета",
					"b": "Подхранва косата при боядисване",
					"c": "Ламинира косъма"
				}
			],
			"answer": "Неотрализира или подсилва цвета",
			"score": 0,
			"status": ""
		},
		{
			"id": 25,
			"question": "Колко минути се стои с амонячна боя?",
			"options": [
				{
					"a": "45мин.",
					"b": "30мин.",
					"c": "10мин."
				}
			],
			"answer": "30мин.",
			"score": 0,
			"status": ""
		},
		{
			"id": 26,
			"question": "Колко време се стои с безамонячна боя? ",
			"options": [
				{
					"a": "35мин.",
					"b": "60мин.",
					"c": "45мин."
				}
			],
			"answer": "45мин.",
			"score": 0,
			"status": ""
		},
		{
			"id": 27,
			"question": "Колко време се стои с мъжка боя за коса?",
			"options": [
				{
					"a": "10мин.",
					"b": "16мин.",
					"c": "30мин."
				}
			],
			"answer": "10мин.",
			"score": 0,
			"status": ""
		},
		{
			"id": 28,
			"question": "Какво означава ламиниране на косата?",
			"options": [
				{
					"a": "Обиране на цъфтежа.",
					"b": "Възтановяване структурата на косъма,чрез терапия.",
				
				}
			],
			"answer": "Възтановяване структурата на косъма,чрез терапия.",
			"score": 0,
			"status": ""
		}
		
	]
}



var quizApp = function () {

	this.score = 0;
	this.qno = 1;
	this.currentque = 0;
	var totalque = quiz.JS.length;


	this.displayQuiz = function (cque) {
		this.currentque = cque;
		if (this.currentque < totalque) {
			$("#tque").html(totalque);
			$("#previous").attr("disabled", false);
			$("#next").attr("disabled", false);
			$("#qid").html(quiz.JS[this.currentque].id + '.');


			$("#question").html(quiz.JS[this.currentque].question);
			$("#question-options").html("");
			for (var key in quiz.JS[this.currentque].options[0]) {
				if (quiz.JS[this.currentque].options[0].hasOwnProperty(key)) {

					$("#question-options").append(
						"<div class='form-check option-block'>" +
						"<label class='form-check-label'>" +
						"<input type='radio' class='form-check-input' name='option'   id='q" + key + "' value='" + quiz.JS[this.currentque].options[0][key] + "'><span id='optionval'>" +
						quiz.JS[this.currentque].options[0][key] +
						"</span></label>"
					);
				}
			}
		}
		if (this.currentque <= 0) {
			$("#previous").attr("disabled", true);
		}
		if (this.currentque >= totalque) {
			$('#next').attr('disabled', true);
			for (var i = 0; i < totalque; i++) {
				this.score = this.score + quiz.JS[i].score;
			}
			return this.showResult(this.score);
		}
	}

	this.showResult = function (scr) {
		$("#result").addClass('result');
		$("#result").html("<h1 class='res-header'>Резултат: &nbsp;" + scr + '/' + totalque + "</h1>");
		for (var j = 0; j < totalque; j++) {
			var res;
			if (quiz.JS[j].score == 0) {
				res = '<span class="wrong">' + quiz.JS[j].score + '</span><i class="fa fa-remove c-wrong"></i>';
			} else {
				res = '<span class="correct">' + quiz.JS[j].score + '</span><i class="fa fa-check c-correct"></i>';
			}
			$("#result").append(
				'<div class="result-question"><span>Въпрос ' + quiz.JS[j].id + '</span> &nbsp;' + quiz.JS[j].question + '</div>' +
				'<div><b>Правилен отговор:</b> &nbsp;' + quiz.JS[j].answer + '</div>' +
				'<div class="last-row"><b>Точки:</b> &nbsp;' + res +

				'</div>'

			);

		}
	}

	this.checkAnswer = function (option) {
		var answer = quiz.JS[this.currentque].answer;
		option = option.replace(/\</g, "&lt;")   //for <
		option = option.replace(/\>/g, "&gt;")   //for >
		option = option.replace(/"/g, "&quot;")

		if (option == quiz.JS[this.currentque].answer) {
			if (quiz.JS[this.currentque].score == "") {
				quiz.JS[this.currentque].score = 1;
				quiz.JS[this.currentque].status = "correct";
			}
		} else {
			quiz.JS[this.currentque].status = "wrong";
		}

	}

	this.changeQuestion = function (cque) {
		this.currentque = this.currentque + cque;
		this.displayQuiz(this.currentque);

	}

}


var jsq = new quizApp();

var selectedopt;
$(document).ready(function () {
	jsq.displayQuiz(0);

	$('#question-options').on('change', 'input[type=radio][name=option]', function (e) {

		//var radio = $(this).find('input:radio');
		$(this).prop("checked", true);
		selectedopt = $(this).val();
	});



});




$('#next').click(function (e) {
	e.preventDefault();
	if (selectedopt) {
		jsq.checkAnswer(selectedopt);
	}
	jsq.changeQuestion(1);
});

$('#previous').click(function (e) {
	e.preventDefault();
	if (selectedopt) {
		jsq.checkAnswer(selectedopt);
	}
	jsq.changeQuestion(-1);
});